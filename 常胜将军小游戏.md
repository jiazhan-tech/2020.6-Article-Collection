---
title: 常胜将军小游戏
date: 2020-08-15 08:28:33
tags:
---
一、常胜将军游戏的基本内容和要求
甲和乙两个人玩抽取火柴的游戏，共有21根火柴。每个人每次最多抽取4根火柴，最少取1根火柴。如果一个人取到最后一根火柴则输了。甲让乙先抽取，结果每次都是甲赢。这是为什么呢？
二、常胜将军算法
先来分析一下常胜将军问题。甲要每次都赢，那么每次甲给乙只剩下一根火柴，因此词实乙至少取一根火柴，这样才能够保证甲常胜。由于乙先抽取，因此只要保证甲抽取的数量和乙抽取的数量之和为5即可。
可以按照这个思路来编写相应的常胜将军问题的求解算法，示例代码如下：
int computer,user,last;

void jiangjun()			//常胜将军算法
{
	while(1)
	{
		printf(" 目前还有火柴 %d 根 \n",last);
		printf("用户去火柴数量：");
		scanf("%d",&user);			//用户去火柴数量
		if(user<1||user>4||user>last)
		{
			printf("你违规了，你取的火柴数有问题！\n");
			continue;
	 	} 
	 	last=last-user;
	 	if(last==0)
	 	{
	 		printf("\n用户取了最后一根火柴，因此计算机赢了！\n");
	 		break;
	 	}
	 	else
	 	{
	 		computer=5-user;
	 		last=last-computer;
	 		printf("计算机取火柴数量：%d \n",computer);
	 		if(last==0)
	 		{
	 			printf("\n 计算机取了最后一根火柴，用户赢了！\n");
	 			break;
		 	}
	 	}
 	} 
}
这里，每次抽取都判断一下是否违规，并且计算剩余的火柴数量last。第一次由用户输入，然后计算机根据前面的算法思路来抽取，这样可以保证每次计算机都赢。
二、具体求解过程
有了上述通用的常胜将军问题算法后，我们可以求解任意此类问题。这里将给出完整的常胜将军问题求解程序代码：
#include<stdio.h>

int computer,user,last;

int jiangjun()			//常胜将军算法
{
	while(1)
	{
		printf(" 目前还有火柴 %d 根 \n",last);
		printf("用户去火柴数量：");
		scanf("%d",&user);			//用户去火柴数量
		if(user<1||user>4||user>last)
		{
			printf("你违规了，你取的火柴数有问题！\n");
			continue;
	 	} 
	 	last=last-user;			//剩余火柴数量 
	 	if(last==0)
	 	{
	 		printf("\n用户取了最后一根火柴，因此计算机赢了！\n");
	 		break;
	 	}
	 	else
	 	{
	 		computer=5-user;			//计算机取的火柴数量 
	 		last=last-computer;
	 		printf("计算机取火柴数量：%d \n",computer);
	 		if(last==0)
	 		{
	 			printf("\n 计算机取了最后一根火柴，用户赢了！\n");
	 			break;
		 	}
	 	}
 	} 
}
int main()			//主函数 
{
	int num;
	printf("常胜将军问题求解！\n");
	printf("请先输入火柴的总数量为：");
	scanf("%d",&num);			//火柴的总量 
	printf("火柴的总数量为%d: ",num);
	last=num;
	int jiangjun(num);			//求解 
}